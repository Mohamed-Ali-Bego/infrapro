{% extends 'base.html' %}
{% load static %}

{% block content %}
 <!------------------- main slide start ------------------->
  <div id="carouselExampleCaptions" class="carousel slide"  data-bs-ride="carousel">
    <div class="carousel-indicators">
      <button type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide-to="0" class="active" aria-current="true" aria-label="Slide 1"></button>
      <button type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide-to="1" aria-label="Slide 2"></button>
      <button type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide-to="2" aria-label="Slide 3"></button>
    </div>
    <div class="carousel-inner">
      <div class="carousel-item active">
        <img src="{% static 'img/intrusionalarmsystem-منزل-ذكى.webp' %}" class="d-block w-100" alt="intrusionalarmsystem">
        <div class="carousel-caption d-md-block">
          <h5>First slide label</h5>
          <p>Some representative placeholder content for the first slide.</p>
        </div>
      </div>
      <div class="carousel-item">
        <img src="{% static 'img/كاميرات-مراقبة.webp' %}" class="d-block w-100" alt="كاميرات">
        <div class="carousel-caption d-md-block">
          <h5>Second slide label</h5>
          <p>Some representative placeholder content for the second slide.</p>
        </div>
      </div>
      <div class="carousel-item">
        <img src="{% static 'img/نيتورك.webp' %}" class="d-block w-100" alt="نيتورك">
        <div class="carousel-caption d-md-block">
          <h5>Third slide label</h5>
          <p>Some representative placeholder content for the third slide.</p>
        </div>
      </div>
    </div>
    <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide="prev">
      <span class="carousel-control-prev-icon" aria-hidden="true"></span>
      <span class="visually-hidden">Previous</span>
    </button>
    <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide="next">
      <span class="carousel-control-next-icon" aria-hidden="true"></span>
      <span class="visually-hidden">Next</span>
    </button>
  </div>
  <!------------------- main slide end ------------------->    
  <!------------------- main serv start ------------------->     
  <div class="container">
    <div class="main-serv">
      <div class="loow shadow border-0 m-2">
        <a href="{% url 'services' %}">
          <i class="fa-solid fa-screwdriver-wrench"></i>
          <p>Services</p>
        </a>
      </div>
      <div class="loow shadow border-0 m-2">
        <a href="#" data-bs-toggle="modal" 
           data-bs-target="#exampleModal">
          <i class="fa-solid fa-comments"></i>
          <p>Contact</p>
        </a>
      </div>
      <div class="loow shadow border-0 m-2">
        <a href="{% url 'about' %}">
          <i class="fa-solid fa-address-card"></i>
          <p>About</p>
        </a>
      </div>
      
    </div>
  </div>
  <!------------------- main serv end ------------------->  
  <!------------------- contact-be whats app ------------------->     
  <div class="contact-be">
    <div class="whatsapp shadow border-0">
    <a href="https://api.whatsapp.com/send?phone=201000970911">
           <i class="fa-brands fa-whatsapp"></i>
        </a>
      
    </div>
  </div> 
  <!------------------- contact-be whats app ------------------->     

  <div class = "containers">
    <div class="container">
      <div class = "row title-1">
        <h1 class = "text-center">Products</h1>              
        <p class = "fw-light w-75 mx-auto text-center">Lorem ipsum dolor sit amet consectetur, adipisicing elit.
           Cumque est neque facilis debitis, repellat dolorem.</p>    
      </div>

      
      <div class="container">
        <div class="category mt-3 mb-5 text-center">
          <div class="btn-group d-block" role="group" aria-label="Basic example">
{% for cat in category %}    
    <a class="page-link d-inline-flex" href="?category={{cat.name}}">
         <button type="submit" class="btn mt-1  shadow border-0 m-1 rounded-0 {% if request.GET.category == cat.name %} active {% endif %}">{{cat.name}}</button>
    </a>
{% endfor %} 
            
          </div>
        </div>
      </div>


    <div class = "row row-cols-2 row-cols-md-3 g-4">


  
    
{% for pro in products %}
      <div  class = "col mb-1 d-link">
        <a href = "{% url 'product' pro_id=pro.id %}">
        <div class = "card product-item shadow border-0">

            <div class="product-img">
              <img src="{{pro.photo.url}}" alt = "{{pro.name}}" class = "img-fluid d-block mx-auto"> 
            </div>                               
        
          <div class = "product-info">             
            <h5 class = "product-type">{{pro.name}}</h5>       
              <a href = "#" class = "d-block text-dark text-decoration-none py-2 product-name">{{pro.description}}</a>                
          </div>
        </div>
        </a>
      </div>
{% endfor %}

     
  </div>      
  </div>

{% if products.has_other_pages %}
 
          <nav aria-label="Page navigation example">
            <ul class="pagination mb-4 mt-4 d-flex justify-content-center">
              {% if products.has_previous %}
                    <li class="page-item">                
                      <a class="page-link shadow border-0" href="?page={{products.previous_page_number}}" aria-label="Previous">
                        <span aria-hidden="true">&laquo;</span>
                        <span class="sr-only">Previous</span>
                      </a>               
                    </li>
              {% endif %}
              {% for i in products.paginator.page_range %}
                    <li class="page-item "><a class="page-link shadow border-0 {% if products.number == i %} active {% endif %}" href="?page={{i}}">{{i}}</a></li>
              {% endfor %}

              {% if products.has_next %}
                    <li class="page-item ">             
                          <a class="page-link shadow border-0" href="?page={{products.next_page_number}}" aria-label="Next">
                            <span aria-hidden="true">&raquo;</span>
                            <span class="sr-only">Next</span>
                          </a>                
                    </li>
              {% endif %}
            </ul>
          </nav>

{% endif %}
  </div>
{% endblock %}